{% extends 'base.html' %}
{% block title %}Your Cart — Book Bazaar{% endblock %}

{% block content %}
<h1 class='text-3xl font-bold mb-6'>Your Cart</h1>

{% if items %}
  {% for item in items %}
    <div class='p-4 bg-white rounded shadow mb-4 flex justify-between items-center'>
      <div>
        <h2 class='text-lg font-semibold'>{{ item.title }}</h2>
        <p class='text-gray-600'>₹{{ item.price }}</p>
      </div>

      <div class='flex items-center gap-2'>
        <form method='post' action='{% url "product_cart:update_cart" %}' class='flex items-center gap-2'>
          {% csrf_token %}
          <input name='slug' type='hidden' value='{{ item.slug }}' />
          <input name='quantity' type='number' value='{{ item.quantity }}' min='0' class='border px-2 py-1 rounded w-16' />
          <button class='bg-indigo-600 text-white px-3 py-2 rounded'>Update</button>
        </form>

        <form method='post' action='{% url "product_cart:remove_from_cart" %}'>
          {% csrf_token %}
          <input name='slug' type='hidden' value='{{ item.slug }}' />
          <button class='ml-2 bg-red-600 text-white px-3 py-2 rounded'>Remove</button>
        </form>
      </div>
    </div>
  {% endfor %}

  <h2 class='text-2xl font-semibold mt-4'>Total: ₹{{ total }}</h2>

{% else %}
  <p>Your cart is empty.</p>
{% endif %}
{% endblock %}
